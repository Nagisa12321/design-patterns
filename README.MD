# Head First Designer Patterns

___

## 1. ç­–ç•¥æ¨¡å¼(stategy)

- ç­–ç•¥æ¨¡å¼å®šä¹‰äº†ç®—æ³•ç°‡, åˆ†åˆ«å°è£…èµ·æ¥, è®©å®ƒä»¬ä¹‹é—´å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚ æ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨æ³•çš„å®¢æˆ·

#### ğŸºè®¾è®¡åŸåˆ™1:

- æ‰¾å‡ºåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–çš„åœ°æ–¹, æŠŠä»–ä»¬ç‹¬ç«‹èµ·æ¥, ä¸è¦å’Œé‚£äº›ä¸éœ€è¦å˜åŒ–çš„ä»£ç æ··åœ¨ä¸€èµ·

#### ğŸºè®¾è®¡åŸåˆ™2:

- é’ˆå¯¹æ¥å£ç¼–ç¨‹, è€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹

#### ğŸºè®¾è®¡åŸåˆ™3:

- å¤šç”¨ç»„åˆ, å°‘ç”¨ç»§æ‰¿

#### â­'has a' is better than 'is a'

- "æœ‰ä¸€ä¸ª"å…³ç³»ç›¸å½“æœ‰è¶£, æ¯ä¸€åªé¸­å­éƒ½æœ‰ä¸€ä¸ªfly behavior å’Œ quack behavior å¥½å°†é£è¡Œå’Œå‘±å‘±å«è¡Œä¸ºå§”æ‰˜ç»™ä»–ä»¬å¤„ç†

## 2. è§‚å¯Ÿè€…æ¨¡å¼(observer)

- è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡ä¹‹é—´ä¸€å¯¹å¤šçš„ä¾èµ–, è¿™æ ·ä¸€æ¥, å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€ æ‰€æœ‰ä¾èµ–éƒ½ä¼šæ”¶åˆ°é€šçŸ¥, è‡ªåŠ¨æ›´æ–°

#### ğŸºè®¾è®¡åŸåˆ™1:

- ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè®¾è®¡è€ŒåŠªåŠ›

#### â­å®ç°ç»†èŠ‚

1. è‡ªå·±è®¾è®¡çš„`Observer/Subject`: è§[*weather*](src/main/java/com/jtchen/observer/weather)
2. ä½¿ç”¨`java.util`ä¸­çš„`Observable/Observer`è§[*weatherobservable*](src/main/java/com/jtchen/observer/weatherobservable)

#### â­ å…³äº`Observer::update(Observable o, Object arg)`

- `o`: ä¸»é¢˜æœ¬èº«å½“ä½œç¬¬ä¸€ä¸ªå˜é‡, å¥½è®©è§‚å¯Ÿè€…çŸ¥é“æ˜¯å“ªä¸ªå¯¹è±¡é€šçŸ¥å®ƒçš„
- `arg`: ä¼ å…¥è§‚å¯Ÿè€…çš„æ•°æ®å¯¹è±¡, å¦‚æœæ²¡æœ‰, åˆ™ä¸ºç©º

#### â­å…³äº`Observable::notifyObservers()`

- æˆ‘ç”¨çš„æ˜¯`notifyObservers(state)`(push), æŠŠçŠ¶æ€å°è£…ä¸ºä¸€ä¸ªStateå¯¹è±¡.
- ä¹¦ä¸­ç”¨çš„æ˜¯`notifyObservers()`(pull)ã€‚ç„¶åè§‚å¯Ÿè€…æ”¶åˆ°é€šçŸ¥è°ƒç”¨è‡ªå·±æƒ³è¦è°ƒç”¨çš„getteræ–¹æ³•

> ä¹¦ä¸­æ–¹æ³•æ›´èƒœä¸€ç­¹, å› ä¸ºä¸ç”¨æ¯æ¬¡éƒ½ä¼ å®Œæ•´çš„å†…éƒ¨ä¿¡æ¯ç»™è§‚å¯Ÿè€…, ä¼šé€ æˆèµ„æºçš„æµªè´¹

#### â­å…³äº`setChange()`

- `setChange()`æ–¹æ³•ç”¨æ¥æ ‡è®°å·²ç»æ”¹å˜çš„äº‹å®, å¥½è®©`notifyObservers()`çŸ¥é“å®ƒè¢«è°ƒç”¨ æ—¶åº”è¯¥é€šçŸ¥è§‚å¯Ÿè€…, å¦‚æœè°ƒç”¨`notifyObservers()`ä¹‹å‰, æ²¡æœ‰è°ƒç”¨`setChange()`, è§‚å¯Ÿè€…ä»¬å°†
  ä¸ä¼šè¢«é€šçŸ¥
    - å¦å¤–è¿˜æœ‰`clearChanged()`å’Œ`hasChanged()`, ç›¸å…³åŠŸèƒ½ä¸å†èµ˜è¿°ã€‚

#### â­ä¸è¦ä¾èµ–äºè§‚å¯Ÿè€…è¢«é€šçŸ¥çš„æ¬¡åº

- `Observable::notifyObservers()`ä¸­çš„é€šçŸ¥æ¬¡åºæ˜¯æ— åºçš„ã€‚

#### â­`java.util.Obserable`çš„é»‘æš—é¢

1. `Obserable`æ˜¯ä¸€ä¸ªç±» ä½ å¿…é¡»å¾—ç»§æ‰¿ä»–, å› æ­¤é™åˆ¶äº†å¤ç”¨çš„æ½œåŠ›ã€‚

2. `Obserable` å°†å…³é”®çš„æ–¹æ³•ä¿æŠ¤èµ·æ¥äº†, æ¯”å¦‚`setChange()`ã€‚

#### â­ swingä¸­ä¹Ÿæœ‰ç›¸åº”çš„è§‚å¯Ÿè€…æ¨¡å¼"listener"

- è¯¦è§[swing](src/main/java/com/jtchen/observer/swing/SwingObserverExample.java)
- ä¸»é¢˜: `button`, è§‚å¯Ÿè€…: ä¸¤ä¸ª`Listener`å¯¹è±¡, é€šè¿‡add...Listeneræ¥æ³¨å†Œ
